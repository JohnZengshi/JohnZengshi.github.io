{"title":"AngularJS中的$timeout和$interval服务","slug":"AngularJS中的$timeout和$interval服务","date":"2017-09-20T04:35:19.150Z","updated":"2017-09-20T05:04:25.440Z","comments":true,"excerpt":"","content":"<blockquote>\n<h2 id=\"AngularJS中的-timeout服务\"><a href=\"#AngularJS中的-timeout服务\" class=\"headerlink\" title=\"AngularJS中的$timeout服务\"></a>AngularJS中的$timeout服务</h2></blockquote>\n<ul>\n<li><p>$timeout：在指定的时间后做指定的事件</p>\n<ul>\n<li>参数1：回调</li>\n<li>参数2：时间</li>\n<li><p>停止($timeout服务自带的方法stop())</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span> <span class=\"attr\">ng-app</span>=<span class=\"string\">\"hmApp\"</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">ng-controller</span>=<span class=\"string\">\"hmCtrl\"</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">h2</span> <span class=\"attr\">ng-click</span>=<span class=\"string\">\"stop()\"</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"undefined\">    var app = angular.module(\"hmApp\",[]);</span></div><div class=\"line\"><span class=\"undefined\">    app.controller(\"hmCtrl\",[\"$scope\",\"$timeout\",function($scope,$timeout)&#123;</span></div><div class=\"line\"><span class=\"undefined\">        $scope.name = \"jack\";</span></div><div class=\"line\"><span class=\"undefined\">        var id = $timeout(function()&#123;</span></div><div class=\"line\"><span class=\"undefined\">            $scope.name = \"rose\"</span></div><div class=\"line\"><span class=\"undefined\">        &#125;,2000);</span></div><div class=\"line\"><span class=\"undefined\">        $scope.stop = function()&#123;</span></div><div class=\"line\"><span class=\"undefined\">            $timeout.cancel(id);</span></div><div class=\"line\"><span class=\"undefined\">        &#125;</span></div><div class=\"line\"><span class=\"undefined\">    &#125;])</span></div><div class=\"line\"><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li><p>$interval：每隔指定的时间就做一次指定的事情.</p>\n<ul>\n<li>参数1: 回调</li>\n<li>参数2: 间隔时间</li>\n<li><p>停止($interval服务自带的方法stop())</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span> <span class=\"attr\">ng-app</span>=<span class=\"string\">\"hmApp\"</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">ng-controller</span>=<span class=\"string\">\"hmCtrl\"</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>&#123;&#123;now|date:\"yyyy-MM-dd HH:MM:ss\"&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">ng-click</span>=<span class=\"string\">\"stop()\"</span>&gt;</span>停止<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"undefined\">    var app = angular.module(\"hmApp\",[]);</span></div><div class=\"line\"><span class=\"undefined\">    app.controller(\"hmCtrl\",[\"$scope\",\"$interval\",function($scope,$interval)&#123;</span></div><div class=\"line\"><span class=\"undefined\">        $scope.now = new Date();</span></div><div class=\"line\"><span class=\"undefined\">        var id = $interval(function()&#123;</span></div><div class=\"line\"><span class=\"undefined\">            $scope.now = new Date();</span></div><div class=\"line\"><span class=\"undefined\">        &#125;,1000);</span></div><div class=\"line\"><span class=\"undefined\">        $scope.stop = function()&#123;</span></div><div class=\"line\"><span class=\"undefined\">            $interval.cancel(id);</span></div><div class=\"line\"><span class=\"undefined\">        &#125;</span></div><div class=\"line\"><span class=\"undefined\">    &#125;])</span></div><div class=\"line\"><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n","categories":[{"name":"Angular","path":"api/categories/Angular.json"}],"tags":[]}