{"title":"AngularJS中的$timeout和$interval服务","slug":"AngularJS中的$timeout和$interval服务","date":"2017-09-20T04:35:19.150Z","updated":"2017-09-20T05:04:25.440Z","comments":true,"excerpt":"","content":"<blockquote>\n<h2 id=\"AngularJS中的-timeout服务\"><a href=\"#AngularJS中的-timeout服务\" class=\"headerlink\" title=\"AngularJS中的$timeout服务\"></a>AngularJS中的$timeout服务</h2></blockquote>\n<ul>\n<li><p>$timeout：在指定的时间后做指定的事件</p>\n<ul>\n<li>参数1：回调</li>\n<li>参数2：时间</li>\n<li><p>停止($timeout服务自带的方法stop())</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span> <span class=\"attr\">ng-app</span>=<span class=\"string\">\"hmApp\"</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">ng-controller</span>=<span class=\"string\">\"hmCtrl\"</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">h2</span> <span class=\"attr\">ng-click</span>=<span class=\"string\">\"stop()\"</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">var</span> app = angular.module(<span class=\"string\">\"hmApp\"</span>,[]);</span></div><div class=\"line\"><span class=\"javascript\">    app.controller(<span class=\"string\">\"hmCtrl\"</span>,[<span class=\"string\">\"$scope\"</span>,<span class=\"string\">\"$timeout\"</span>,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">$scope,$timeout</span>)</span>&#123;</span></div><div class=\"line\"><span class=\"javascript\">        $scope.name = <span class=\"string\">\"jack\"</span>;</span></div><div class=\"line\"><span class=\"javascript\">        <span class=\"keyword\">var</span> id = $timeout(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span></div><div class=\"line\"><span class=\"javascript\">            $scope.name = <span class=\"string\">\"rose\"</span></span></div><div class=\"line\"><span class=\"undefined\">        &#125;,2000);</span></div><div class=\"line\"><span class=\"javascript\">        $scope.stop = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span></div><div class=\"line\"><span class=\"undefined\">            $timeout.cancel(id);</span></div><div class=\"line\"><span class=\"undefined\">        &#125;</span></div><div class=\"line\"><span class=\"undefined\">    &#125;])</span></div><div class=\"line\"><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li><p>$interval：每隔指定的时间就做一次指定的事情.</p>\n<ul>\n<li>参数1: 回调</li>\n<li>参数2: 间隔时间</li>\n<li><p>停止($interval服务自带的方法stop())</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span> <span class=\"attr\">ng-app</span>=<span class=\"string\">\"hmApp\"</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">ng-controller</span>=<span class=\"string\">\"hmCtrl\"</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>&#123;&#123;now|date:\"yyyy-MM-dd HH:MM:ss\"&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">ng-click</span>=<span class=\"string\">\"stop()\"</span>&gt;</span>停止<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"></span></div><div class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">var</span> app = angular.module(<span class=\"string\">\"hmApp\"</span>,[]);</span></div><div class=\"line\"><span class=\"javascript\">    app.controller(<span class=\"string\">\"hmCtrl\"</span>,[<span class=\"string\">\"$scope\"</span>,<span class=\"string\">\"$interval\"</span>,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">$scope,$interval</span>)</span>&#123;</span></div><div class=\"line\"><span class=\"javascript\">        $scope.now = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>();</span></div><div class=\"line\"><span class=\"javascript\">        <span class=\"keyword\">var</span> id = $interval(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span></div><div class=\"line\"><span class=\"javascript\">            $scope.now = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>();</span></div><div class=\"line\"><span class=\"undefined\">        &#125;,1000);</span></div><div class=\"line\"><span class=\"javascript\">        $scope.stop = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span></div><div class=\"line\"><span class=\"undefined\">            $interval.cancel(id);</span></div><div class=\"line\"><span class=\"undefined\">        &#125;</span></div><div class=\"line\"><span class=\"undefined\">    &#125;])</span></div><div class=\"line\"><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n","categories":[{"name":"Angular","path":"api/categories/Angular.json"}],"tags":[]}