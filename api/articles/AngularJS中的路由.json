{"title":"AngularJS中的路由","slug":"AngularJS中的路由","date":"2017-09-21T13:04:46.051Z","updated":"2017-09-21T14:02:24.019Z","comments":true,"excerpt":"","content":"<blockquote>\n<h2 id=\"1-单页面应用的原理\"><a href=\"#1-单页面应用的原理\" class=\"headerlink\" title=\"1.单页面应用的原理\"></a>1.单页面应用的原理</h2><ul>\n<li>通过haschange事件监听到锚点的变化，进而可以实现为不同的锚点显示不同的视图，单页面应用就是基于这一原理的<ul>\n<li>angularjs中的路由: 就是基于这一原理实现的.</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"2-使用路由的步骤\"><a href=\"#2-使用路由的步骤\" class=\"headerlink\" title=\"2.使用路由的步骤\"></a>2.使用路由的步骤</h2><ul>\n<li>1.下载路由插件.</li>\n<li>2.将这个route插件引入</li>\n<li>3.创建模块的时候,要依赖于ngRoute模块.</li>\n<li>4.配置路由<ul>\n<li>设定规则. 当url的锚点值发生变化的时候,要怎么做.</li>\n<li>默认情况下,angularjs路由中的锚链接的值必须是以#!开头.</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"3-注意的细节\"><a href=\"#3-注意的细节\" class=\"headerlink\" title=\"3.注意的细节:\"></a>3.注意的细节:</h2><ul>\n<li>默认情况下,锚链接的锚点值必须要以#!开头.</li>\n<li>在使用when方法匹配的时候,前面的#!不必写.</li>\n<li>temlplateUrl 表示匹配成功的时候 请求指定的资源</li>\n<li>将请求回来的资源放在ng-view下面.</li>\n</ul>\n<h2 id=\"4-routeProvider\"><a href=\"#4-routeProvider\" class=\"headerlink\" title=\"4.$routeProvider\"></a>4.$routeProvider</h2><ul>\n<li>使用$routeProvider进行路由规则的配置</li>\n<li>when方法： 设定当路由匹配成功以后,要做的事情.  <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">when(<span class=\"string\">\"路由\"</span>，&#123;</div><div class=\"line\"></div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>\n</li>\n</ul>\n</blockquote>\n<ul>\n<li>但成功匹配后，要做的事情通过第二个参数对象来指定。<ul>\n<li>第二个参数：对象<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">templateUrl:<span class=\"string\">\"\"</span></div><div class=\"line\"><span class=\"comment\">//资源路径，匹配成功后请求这个资源，将请求回来的资源放在ng-view</span></div><div class=\"line\"></div><div class=\"line\">otherwise方法</div><div class=\"line\"><span class=\"comment\">//当所有的路由规矩都不匹配的时候，做的事情</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"string\">\"/\"</span>代表空路由</div></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<h2 id=\"when方法的第二个参数的键值对的说明\"><a href=\"#when方法的第二个参数的键值对的说明\" class=\"headerlink\" title=\"when方法的第二个参数的键值对的说明\"></a>when方法的第二个参数的键值对的说明</h2><ul>\n<li>templateUrl</li>\n<li>redirectTo 跳转路由  <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">redirectTO:<span class=\"string\">\"/home\"</span></div><div class=\"line\"><span class=\"comment\">//当路由匹配成功以后，修改路由为\"/home\"</span></div></pre></td></tr></table></figure>\n</li>\n</ul>\n</blockquote>\n<ul>\n<li>template:””</li>\n<li>controller:””  值是控制器的名称会将请求回来的视图与这个控制器进行关联.这样的话,就可以在控制器中制造数据 存储到$scope中.视图中就可以访问.</li>\n</ul>\n<blockquote>\n<h2 id=\"spa的优缺点\"><a href=\"#spa的优缺点\" class=\"headerlink\" title=\"spa的优缺点\"></a>spa的优缺点</h2><ul>\n<li>优点：用户体验极致</li>\n<li>对seo不友好</li>\n</ul>\n<h2 id=\"具体代码：\"><a href=\"#具体代码：\" class=\"headerlink\" title=\"具体代码：\"></a>具体代码：</h2><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span> <span class=\"attr\">ng-app</span>=<span class=\"string\">\"hmApp\"</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">ng-contorller</span>=<span class=\"string\">\"hmCtrl\"</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">nav</span>&gt;</span></div><div class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"#/home\"</span>&gt;</span>首页<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"#/my\"</span>&gt;</span>我的音乐<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"#/find\"</span>&gt;</span>发现音乐<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">nav</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">section</span> <span class=\"attr\">ng-view</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">section</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></div></pre></td></tr></table></figure>\n</blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> app.angular.module(<span class=\"string\">\"hmApp\"</span>,[<span class=\"string\">\"ngRoute\"</span>]);</div><div class=\"line\">app.config([<span class=\"string\">\"$locationProcider\"</span>,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">$locationProcider</span>)</span>&#123;</div><div class=\"line\">    $locationProcider.hashPrefix(<span class=\"string\">\"\"</span>); </div><div class=\"line\">&#125;])</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//针对 路由规则(锚点值变化) 进行配置</span></div><div class=\"line\">app.config([<span class=\"string\">\"$rotoueProcider\"</span>,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">$rotoueProcider</span>)</span>&#123;</div><div class=\"line\">    $rotoueProcider.when(<span class=\"string\">\"/home\"</span>,&#123;</div><div class=\"line\">        templateUrl:<span class=\"string\">\"./musice/home.html\"</span></div><div class=\"line\">    &#125;).when(<span class=\"string\">\"/my\"</span>,&#123;</div><div class=\"line\">        template:<span class=\"string\">\"&lt;h1&gt;哈哈哈哈&lt;/h1&gt;\"</span>,</div><div class=\"line\">        controller:<span class=\"string\">\"hmCtrl\"</span></div><div class=\"line\">        <span class=\"comment\">//将请求回来的视图和名称叫做“myCtrl”的控制器关联起来</span></div><div class=\"line\">    &#125;).when(<span class=\"string\">\"/\"</span>,&#123;</div><div class=\"line\">        redirectTo:<span class=\"string\">\"/home\"</span></div><div class=\"line\">        <span class=\"comment\">//如果现在的URL地址上的路由是一个空路由，name就跳转到、home这个路由</span></div><div class=\"line\">    &#125;).otherwise(&#123;</div><div class=\"line\">        templateUrl:<span class=\"string\">\"./404.html\"</span></div><div class=\"line\">    &#125;)</div><div class=\"line\">&#125;]);</div><div class=\"line\"></div><div class=\"line\">app.controller(<span class=\"string\">\"hmCtrl\"</span>,[<span class=\"string\">\"$scope\"</span>,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">$scope</span>)</span>&#123;</div><div class=\"line\">    $scope.name = <span class=\"string\">\"歌曲\"</span></div><div class=\"line\">&#125;])</div></pre></td></tr></table></figure>","categories":[{"name":"Angular","path":"api/categories/Angular.json"}],"tags":[{"name":"黑科技","path":"api/tags/黑科技.json"}]}