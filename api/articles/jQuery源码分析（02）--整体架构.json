{"title":"jQuery源码分析(02)--整体架构","slug":"jQuery源码分析（02）--整体架构","date":"2017-09-20T01:59:08.807Z","updated":"2017-09-11T13:03:16.230Z","comments":true,"excerpt":"","content":"<h2 id=\"jQuery整体架构\"><a href=\"#jQuery整体架构\" class=\"headerlink\" title=\"jQuery整体架构\"></a>jQuery整体架构</h2><p>任何程序代码不是一开始就复杂的，成功也不是一躇而蹴的，早期jQuery的作者John Resig在2005年提议改进Prototype的“Behaviour”库时，只是想让其使用更简单才发布新的jQuery框架。起初John Resig估计也没料想jQuery会如此的火热。我们可以看到从发布的第一个1.0开始到目前最新的2.1.1其代码膨胀到了9000多行，它兼容CSS3，还兼容各种浏览器，jQuery使用户能更方便地处理DOM、事件、实现动画效果，并且方便地为网站提供AJAX交互。</p>\n<ol>\n<li><p>最新jQuery2.1.1版本的结构：</p>\n <figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><div class=\"line\">&lt;script <span class=\"built_in\">type</span>=<span class=\"string\">\"text/javascript\"</span>&gt;</div><div class=\"line\">;(<span class=\"keyword\">function</span>(global, factory) &#123;</div><div class=\"line\">    factory(global);</div><div class=\"line\">&#125;(typeof window !== <span class=\"string\">\"undefined\"</span> ? window : this, <span class=\"keyword\">function</span>(window, noGlobal) &#123;</div><div class=\"line\">    var jQuery = <span class=\"keyword\">function</span>( selector, context ) &#123;</div><div class=\"line\">        <span class=\"built_in\">return</span> new jQuery.fn.init( selector, context );</div><div class=\"line\">    &#125;;</div><div class=\"line\">    jQuery.fn = jQuery.prototype = &#123;&#125;;</div><div class=\"line\">    // 核心方法</div><div class=\"line\">    // 回调系统</div><div class=\"line\">    // 异步队列</div><div class=\"line\">    // 数据缓存</div><div class=\"line\">    // 队列操作</div><div class=\"line\">    // 选择器引</div><div class=\"line\">    // 属性操作</div><div class=\"line\">    // 节点遍历</div><div class=\"line\">    // 文档处理</div><div class=\"line\">    // 样式操作</div><div class=\"line\">    // 属性操作</div><div class=\"line\">    // 事件体系</div><div class=\"line\">    // AJAX交互</div><div class=\"line\">    // 动画引擎</div><div class=\"line\">    <span class=\"built_in\">return</span> jQuery;</div><div class=\"line\">&#125;));</div><div class=\"line\"></div><div class=\"line\">jQuery.each( [ <span class=\"string\">\"get\"</span>, <span class=\"string\">\"post\"</span> ], <span class=\"keyword\">function</span>( i, method ) &#123;</div><div class=\"line\">    jQuery[ method ] = <span class=\"keyword\">function</span>( url, data, callback, <span class=\"built_in\">type</span> ) &#123;</div><div class=\"line\">        // Shift arguments <span class=\"keyword\">if</span> data argument was omitted</div><div class=\"line\">        <span class=\"keyword\">if</span> ( jQuery.isFunction( data ) ) &#123;</div><div class=\"line\">            <span class=\"built_in\">type</span>     = <span class=\"built_in\">type</span> || callback;</div><div class=\"line\">            callback = data;</div><div class=\"line\">            data     = undefined;</div><div class=\"line\">        &#125;</div><div class=\"line\">        <span class=\"built_in\">return</span> jQuery.ajax(&#123;</div><div class=\"line\">            url: url,</div><div class=\"line\">            <span class=\"built_in\">type</span>: method,</div><div class=\"line\">            dataType: <span class=\"built_in\">type</span>,</div><div class=\"line\">            data: data,</div><div class=\"line\">            success: callback</div><div class=\"line\">        &#125;);</div><div class=\"line\">    &#125;;</div><div class=\"line\">&#125;);</div><div class=\"line\">&lt;/script&gt;</div></pre></td></tr></table></figure>\n</li>\n<li><p>jQuery的模块依赖图：</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><div class=\"line\">![alt text](http://img.mukewang.com/53fa8fec0001754806930473.jpg)</div></pre></td></tr></table></figure></li>\n</ol>\n","categories":[{"name":"jQuery源码分析","path":"api/categories/jQuery源码分析.json"}],"tags":[{"name":"没事研究来玩的","path":"api/tags/没事研究来玩的.json"}]}