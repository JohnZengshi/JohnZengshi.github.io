{"title":"跨页面传值的方法和使用","slug":"跨页面传值的方法和使用","date":"2017-09-20T01:59:08.911Z","updated":"2017-09-16T05:25:46.245Z","comments":true,"excerpt":"","content":"<blockquote>\n<h2 id=\"跨页面传值\"><a href=\"#跨页面传值\" class=\"headerlink\" title=\"跨页面传值\"></a>跨页面传值</h2></blockquote>\n<ul>\n<li><p>get请求的参数</p>\n<ul>\n<li><p>在页面跳转的时候，把要传递的参数作为url请求路径的一部分</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">location.href = <span class=\"string\">\"index.html?id=666&amp;age=18\"</span>;</div></pre></td></tr></table></figure>\n</li>\n<li><p>在目标页面，通过location.search得到相关参数</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">laction.search =&gt; <span class=\"string\">\"?id=666&amp;age=18\"</span>;</div></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li><p>h5本地新增的储存技术:localStorage/sessionStorage</p>\n<ul>\n<li>sessionStorage是会话级储存时间/localStorage永久储存</li>\n<li><p>储存数据：</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">localStorage.setltem(<span class=\"string\">\"健\"</span>，<span class=\"string\">\"值\"</span>);</div></pre></td></tr></table></figure>\n<ul>\n<li>切记：所有值都是字符串类型的值,如果不是字符串类型的值，方法内部会自动转换成字符串类型储存；</li>\n<li>特殊情况：传入数字也会储存：100 –&gt; “100”</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>cookie</p>\n<ul>\n<li>前提：必须在同一个域名下的不同页面；</li>\n<li>cookie的2种类型：<ul>\n<li>会话cookie:cookie会在每一次会话后删除；</li>\n<li>长期cookie:cookie会保存一段时间</li>\n</ul>\n</li>\n<li><p>原生JS:</p>\n<ul>\n<li><p>设置一个会话</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">cookie:document.cookie = <span class=\"string\">\"?id=888\"</span>;</div></pre></td></tr></table></figure>\n</li>\n<li><p>设置一个长期</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">cookie:document.cookie = <span class=\"string\">\"?id=888;expires=\"</span>+new Date(<span class=\"string\">\"2017-9-11 08:05:30\"</span>)     //(new Date()里面要加冒号)</div></pre></td></tr></table></figure>\n</li>\n<li><p>获取cookie:</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">document.cookie; //(获取当前域名下的所有cookie值)</div></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li><p>jQuery.cookie.js操作cookie</p>\n<ul>\n<li>jquery.cookie.js依赖于jquery</li>\n<li><p>设置一个会话cookie:</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$.cookie(<span class=\"string\">\"id\"</span>,<span class=\"string\">\"888\"</span>);</div></pre></td></tr></table></figure>\n</li>\n<li><p>设置一个长期cookie:</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$.cookie(<span class=\"string\">\"id\"</span>,<span class=\"string\">\"888\"</span>,&#123;expires:日期类型或数字类型&#125;)</div></pre></td></tr></table></figure>\n</li>\n<li><p>获取cookie:</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$.cookie(<span class=\"string\">\"健\"</span>);</div></pre></td></tr></table></figure>\n</li>\n<li><p>移出cookie:</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$.removeCookie(<span class=\"string\">\"健\"</span>)</div></pre></td></tr></table></figure>\n</li>\n<li><p>使用cookie的实例：</p>\n  <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"built_in\">JSON</span>.stringify(ajax返回的用户数据,一个对象);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//设置cookie，时间</span></div><div class=\"line\">$cookie(<span class=\"string\">\"userInfo\"</span>,str,&#123;</div><div class=\"line\">    expires:<span class=\"number\">1</span>/<span class=\"number\">24</span> <span class=\"comment\">//一小时</span></div><div class=\"line\">&#125;)</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//登陆成功：</span></div><div class=\"line\">location.href = <span class=\"string\">\"index.html\"</span></div></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>服务器端:session</p>\n</li>\n</ul>\n","categories":[{"name":"网站搭建","path":"api/categories/网站搭建.json"}],"tags":[{"name":"开发技巧","path":"api/tags/开发技巧.json"}]}