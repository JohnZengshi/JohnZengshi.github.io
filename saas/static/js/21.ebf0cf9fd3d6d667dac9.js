webpackJsonp([21,25],{1481:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=o(15),a=n(s),i=o(2),r=o(6);t.default={data:function(){return{url:""}},methods:{_downloadTable:function(){var e=this,t={type:"1",infoType:"003"};(0,i.downloadTable)(t).then(function(t){if(200==t.data.state){var o=t.data.data.url;o=o.replace("{companyId}",sessionStorage.getItem("companyId")),o=o.replace("{client}","web"),o=o.replace("{userId}",sessionStorage.getItem("id")),e.url=o,console.log("组装好的地址",o)}})},setSend:function(){this.toSend()},createdW:function(){var e=this,t=new WebSocket(this.url);t.onopen=function(e){t.send((0,a.default)({os:"web",fs:"xiaohua",status:"1"})),console.log("测试连接成功",e)},t.onmessage=function(e){var o=this;console.log("新消息",e.data);var n=JSON.parse(e.data);"09"==n.msgType?"app"==n.os&&("qry"==n.opType?t.send((0,a.default)({os:"web",fs:"xiaohua",msgType:"09",status:"1"})):"out"==n.opType&&(0,r.operateLogout)().then(function(e){if(200==e.data.state){t.close(),_seft.$router.push({path:"/member/login"});var n=document.getElementById("body");n.style.background="#f5f8f7"}else o.$message({message:e.data.msg,type:"warning"})})):"09"==n.msgType,console.log("测试有新消息来",e.data)},t.error=function(e){console.log("测试连接失败",e)},e.toSend=function(){t.send((0,a.default)({os:"web",fs:"xiaohua",status:"1"}))},window.onbeforeunload=function(){t.send({companyId:sessionStorage.getItem("companyId"),msgType:"09",os:"web",userId:sessionStorage.getItem("id"),status:"1000"}),t.close()}}}}},1850:function(e,t,o){t=e.exports=o(4)(),t.push([e.id,".xh-text-main>ul>li[data-v-1e50bc1d]{border:2px solid red;height:100px;width:200px;margin:10px;cursor:pointer}",""])},2365:function(e,t,o){var n=o(1850);"string"==typeof n&&(n=[[e.id,n,""]]);o(5)(n,{});n.locals&&(e.exports=n.locals)},3575:function(e,t,o){o(2365);var n=o(1)(o(1481),o(3668),"data-v-1e50bc1d",null);e.exports=n.exports},3668:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"xh-text-main"},[o("ul",[o("li",{on:{click:e._downloadTable}},[e._v("获取地址")]),e._v(" "),o("li",{on:{click:e.createdW}},[e._v("连接webSocket")]),e._v(" "),o("li",{on:{click:e.setSend}},[e._v("发消息")]),e._v(" "),o("li",[e._v("推送给APP")])])])},staticRenderFns:[]}}});