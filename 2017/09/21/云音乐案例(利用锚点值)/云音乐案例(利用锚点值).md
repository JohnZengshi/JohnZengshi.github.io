---
title: 云音乐案例业务逻辑(锚点值)
categories: 开发技巧
tags: 建站技巧
---

>## 1. 锚点值
+ 通过window.location.hash 可以拿到当前地址栏上的锚点值
+ window对象有一个事件 onhashchange这个事件在url地址栏的锚点值发生变化的时候触发.

+ 案例：
```html
<style>
    header>nav>a{
        text-decoration: none;
        color: #333;
        font-size: 14px;
        margin-left: 16px;
    }
    header>nav>a:hover{
            text-decoration: underline;
    }
</style>

<body>
    <header>
        <nav>
            <a href="#home">首页</a>
            <a href="#my">我的音乐</a>
            <a href="#find">发现音乐</a>
        </nav>
    </header>

    <section id="content">

    </section>
</body>
```
```js
<script>
    window.onhashchange = funciton(){
        //1.获取url地址栏上的锚点值.
        var hash = window.location.hash.slice(1);
            // #home #my...
        
        //2.发送Ajax请求
        var url = "./music/"+ hash +".html"
        var xhr = new XMLHttpRequest();
        xhr.open("get",url);
        xhr.onload = function(){
            if(xhr.status == 200){
                 document.getElementById("content").innerHTML = xhr.responseText;
                console.log(xhr.responText);
            }
        }
        xhr.send();
    }
</script>
```