---
title: 跨页面传值的方法和使用
categories: 网站搭建
tags: 开发技巧
---
>## 跨页面传值

+ get请求的参数
    - 在页面跳转的时候，把要传递的参数作为url请求路径的一部分
        ```bash
        location.href = "index.html?id=666&age=18";
        ```
    - 在目标页面，通过location.search得到相关参数
        ```bash
        laction.search => "?id=666&age=18";
        ```
+ h5本地新增的储存技术:localStorage/sessionStorage
    - sessionStorage是会话级储存时间/localStorage永久储存
    - 储存数据：
        ```bash
        localStorage.setltem("健"，"值");
        ```
        + 切记：所有值都是字符串类型的值,如果不是字符串类型的值，方法内部会自动转换成字符串类型储存；
        + 特殊情况：传入数字也会储存：100 --> "100"
+ cookie
    - 前提：必须在同一个域名下的不同页面；
    - cookie的2种类型：
        + 会话cookie:cookie会在每一次会话后删除；
        + 长期cookie:cookie会保存一段时间
    - 原生JS:
        + 设置一个会话
            ```bash
            cookie:document.cookie = "?id=888";
            ```
        + 设置一个长期
            ```bash
            cookie:document.cookie = "?id=888;expires="+new Date("2017-9-11 08:05:30")     //(new Date()里面要加冒号)
            ```
        + 获取cookie:
            ```bash
            document.cookie; //(获取当前域名下的所有cookie值)
            ```
    - jQuery.cookie.js操作cookie
        + jquery.cookie.js依赖于jquery
        + 设置一个会话cookie:
            ```bash
            $.cookie("id","888");
            ```
        + 设置一个长期cookie:
            ```bash
            $.cookie("id","888",{expires:日期类型或数字类型})
            ```
        + 获取cookie:
            ```bash
            $.cookie("健");
            ```
        + 移出cookie:
            ```bash
            $.removeCookie("健")
            ```

        + 使用cookie的实例：
            ```js
                var str = JSON.stringify(ajax返回的用户数据,一个对象);

                //设置cookie，时间
                $cookie("userInfo",str,{
                    expires:1/24 //一小时
                })

                //登陆成功：
                location.href = "index.html"
            ```
+ 服务器端:session